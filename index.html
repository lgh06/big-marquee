<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slim-js@4.0.7/Slim.nomodule.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slim-js@4.0.7/directives/all.nomodule.js"></script>
    <script src="components/shine-marquee.js"></script>
    <title>Document</title>
    <style>
      body {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <shine-marquee></shine-marquee>
    <br /><br />
    <button id="start">Start Moving</button>
    <button id="stop">Stop Moving</button>
    <br />
    <br />
    <textarea name="text" id="text" cols="30" rows="10">
      text 3
      text 4
    </textarea> <br />
    <button id="setTextBtn">set text</button>
    <script>
      (function() {
        var q = document.querySelector.bind(document);
        document.addEventListener("DOMContentLoaded", () => {
          q("#start").addEventListener("click", e => {
            q("shine-marquee").setAttribute("moving", "");
          });
          q("#stop").addEventListener("click", e => {
            q("shine-marquee").removeAttribute("moving");
          });
          q("#setTextBtn").addEventListener("click", e => {
            q("shine-marquee").shadowRoot.querySelector(
              ".inner"
            ).innerHTML = String(q("#text").value).replace(/\n/g, "<br>");
          });
          console.log(
            q("shine-marquee").shadowRoot,
            q("shine-marquee").shadowRoot.querySelector(".inner")
          );
        });
      })();
    </script>
  </body>
</html>
